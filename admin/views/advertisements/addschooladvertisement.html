<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">Full page banner</h1>
    </div>  
    <!-- /.col-lg-12 -->
</div>
<div class="row">
    <div class="col-lg-12">
        <uib-alert id="alertMessage" ng-if="alert.show" type="{{alert.type}}" close="alert.show = false"
                   ng-focus="alert.show"   tabindex="1">{{alert.message}}</uib-alert>
        <div class="panel panel-default">
            <div class="panel-heading">
                Add Advertisement
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-lg-12">
                        <form role="form"  novalidate name="bannerForm" enctype="multipart/form-data">
                            <div class="form-group" form-validate show-errors ng-class="{'has-error':bannerForm.subscription_school_id.$invalid && bannerForm.subscription_school_id.$dirty}">
                                <label>Choose School*</label>
                                <select name="subscription_school_id" class="form-control" ng-model='plan.school' required
                                        ng-options="school as school.school_name for school in (schools | filter:filterSubscribedSchools) track by school.school_id"
                                        >
                                </select>
                                <p class="help-block" ng-if="bannerForm.subscription_school_id.$invalid && bannerForm.subscription_school_id.$dirty">School is required</p>
                            </div>
                            <div class="form-group" show-errors ng-class="{'has-error':bannerForm.subscription_start_date.$invalid && bannerForm.subscription_start_date.$dirty}">
                                <label>Validation from</label>
                                <p class="input-group">
                                    <input type="text" class="form-control" uib-datepicker-popup="dd-MMMM-yyyy" ng-model="plan.subscription_start_date" is-open="popup1.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" />
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
                                    </span>
                                </p>
                                <p class="help-block" ng-if="bannerForm.subscription_start_date.$invalid && bannerForm.subscription_start_date.$dirty">Subscription date from is required</p>
                            </div>
                            <div class="form-group" show-errors ng-class="{'has-error':bannerForm.plan_type.$invalid && bannerForm.plan_type.$dirty}">
                                <label>Validation to</label>
                                <p class="input-group">
                                    <input type="text" class="form-control" ng-model="plan.subscription_end_date" readonly="readonly" ng-required="true" />
                                </p>
                                <p class="help-block" ng-if="bannerForm.subscription_end_date.$invalid && bannerForm.subscription_end_date.$dirty">Subscription end date is required</p>
                            </div>
                            <div class="form-group" show-errors ng-class="{'has-error':bannerForm.plan_type.$invalid && bannerForm.plan_type.$dirty}">
                                <label>Ad Type</label>
                                <select name="plan_type" class="form-control" ng-model="plan.plan_type"
                                        ng-options="ad as ad.plan_name for ad in advertisementTypes track by ad.plan_id"
                                        required
                                        >
                                    <option>--SELECT--</option>
                                </select>
                                <p class="help-block" ng-if="bannerForm.plan_type.$invalid && bannerForm.plan_type.$dirty">Subscription type is required</p>
                            </div>
                            <div class="form-group">
                                <label>School Image</label>
                                <input type="file" ngf-select
                                       ng-model="plan.subscription_img"
                                       name="subscription_img"
                                       accept='image/*'
                                       ng-change='uploadImage(bannerForm.subscription_img)'
                                       />
                                <p>{{progress2}}</p>
                                <p class='help-block' ng-show="bannerForm.subscription_img.$error.maxSize">
                                    File too large {{school.logo.size / 1000000|number:1}}MB: max 20M
                                </p>
                            </div>
                            <button type="submit" class="btn btn-default" ng-click="saveSchoolAdvertisement()" >Submit</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>